(()=>{"use strict";var t={321:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.keyValue=void 0;const i="AlertWise";let o;const r=(t,e)=>{console.info("onversionchange",e),t.close()},s=()=>(o||(o=new Promise(((t,e)=>{const n=indexedDB.open("ALERTWISE_SDK");n.onsuccess=e=>{const n=e.target.result;n.onversionchange=t=>r(n,t),t(n)},n.onerror=()=>{console.error("Error Occurred!!!!!!"),e(n.error)},n.onupgradeneeded=t=>{const e=t.target.result;e.onversionchange=t=>r(e,t),(t=>{t.objectStoreNames.contains(i)||t.createObjectStore(i,{keyPath:"key",autoIncrement:!0})})(e)}}))),o),a=t=>s().then((e=>new Promise(((n,i)=>t(e,n,i))))),c=(t,e,n,i)=>{let o;const r=()=>{clearTimeout(o),t()?n():e()?i():o=setTimeout(r,0)};r()};var p;e.keyValue=(p=i,{get:(t,e)=>a(((n,i,o)=>{const r=n.transaction(p).objectStore(p).get(t);let s=!1,a=!1;r.onsuccess=()=>s=!0,r.onerror=()=>a=!0,c((()=>s),(()=>a),(()=>i(r.result&&r.result.value||e)),(()=>o(r.error)))})),getAll:()=>a(((t,e,n)=>{const i={},o=t.transaction(p).objectStore(p).openCursor();let r=!1,s=!1;o.onsuccess=t=>{const e=t.target.result;e?(i[e.key]=e.value.value,e.continue()):r=!0},o.onerror=()=>s=!0,c((()=>r),(()=>s),(()=>e(i)),(()=>n(o.error)))})),extend(t,e){return n(this,void 0,void 0,(function*(){const n=yield this.get(t);yield this.set(t,Object.assign(Object.assign({},n),e))}))},set:(t,e)=>a(((n,i,o)=>{const r=n.transaction([p],"readwrite").objectStore(p).put({key:t,value:e});let s=!1,a=!1;r.onsuccess=()=>s=!0,r.onerror=()=>a=!0,c((()=>s),(()=>a),(()=>i(t)),(()=>o(r.error)))}))})},330:t=>{t.exports={version:"1.2.2"}},600:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPushService=void 0;const o=n(611),r=n(911),s=n(870),a=n(870),c=n(950),p=n(618);e.DefaultPushService=class{constructor(t,e=r.data){this.api=t,this.dataRef=e}getPermission(){return Notification.permission}checkIsPermissionDefault(){return this.getPermission()===s.PERMISSION_PROMPT}askPermission(){return i(this,void 0,void 0,(function*(){try{const t=yield Notification.requestPermission();console.debug(`Permission Status: ${t}`)}catch(t){console.error("Error while asking permission:",t)}}))}checkIsPermissionGranted(){return this.getPermission()===s.PERMISSION_GRANTED}subscribe(t){return i(this,void 0,void 0,(function*(){if(!this.checkIsPermissionGranted())return void console.error("You must have permission granted before subscribe!");const e=t||(yield this.trySubscribe()),{auth:n,p256dh:i}=e.toJSON().keys;if(!n||!i)throw new Error("Can't get subscription keys!");const o=yield this.dataRef.getIpInfo(),r=Object.assign(Object.assign({},o),{auth:n,p256dh:i,timeZone:o.timezone,appId:yield this.dataRef.getAppId(),endpoint:e.endpoint,browser:yield this.dataRef.getBrowser(),device:yield this.dataRef.getDeviceType(),os:yield this.dataRef.getOs(),language:yield this.dataRef.getLanguage(),tags:{},segments:(0,p.getSelectedSegments)(),timeZoneOffset:this.dataRef.getTimeZoneOffset()}),s=yield this.api.postSubscription(r);window.dispatchEvent(new CustomEvent(a.EVENT_ON_SUBSCRIBE,{detail:{subscriber:Object.assign(Object.assign({},s),{id:s._id}),subscription:e.toJSON()}})),window.dispatchEvent(new CustomEvent(a.EVENT_ON_SUBSCRIBE_CHANGE,{detail:{subscriberId:s._id}}))}))}unsubscribe(){return i(this,void 0,void 0,(function*(){const t=yield this.dataRef.getSubscriptionId();window.dispatchEvent(new CustomEvent(a.EVENT_ON_UNSUBSCRIBE,{detail:{subscriberId:t}}));const e=yield this.getSubscription();e&&(yield e.unsubscribe())}))}trySubscribe(){return i(this,void 0,void 0,(function*(){try{return yield this.subscribePushManager()}catch(t){return yield(0,c.logSDKFailure)(t),yield this.unsubscribe(),this.subscribePushManager()}}))}subscribePushManager(){return i(this,void 0,void 0,(function*(){const t=yield this.getServiceWorkerRegistration(),e=yield this.dataRef.getApplicationServerKey();return t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e?this.urlBase64ToUint8Array(e):null})}))}updateServiceWorkerRegistration(){return i(this,void 0,void 0,(function*(){yield this.getServiceWorkerRegistration()}))}getServiceWorkerRegistration(){return i(this,void 0,void 0,(function*(){var t;if(!this.registration){yield this.registerServiceWorker();const e=yield this.dataRef.getServiceWorkerUrl();this.registration=(yield navigator.serviceWorker.getRegistration(e))||void 0,yield null===(t=this.registration)||void 0===t?void 0:t.update(),yield this.waitForRegistrationActive()}if(!this.registration)throw new Error("Internal Error: Can't register service worker!");return this.registration}))}waitForRegistrationActive(){return i(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{var n,i,o;const r=setTimeout((()=>e(new Error(`Service worker not registered after ${a.DEFAULT_REGISTRATION_TIMEOUT} ms`))),a.DEFAULT_REGISTRATION_TIMEOUT),s=(null===(n=this.registration)||void 0===n?void 0:n.installing)||(null===(i=this.registration)||void 0===i?void 0:i.waiting);(null===(o=this.registration)||void 0===o?void 0:o.active)?(clearTimeout(r),t()):s?s.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(s.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),e(new Error("No incoming service worker found.")))}))}))}registerServiceWorker(){return i(this,void 0,void 0,(function*(){const t=yield this.dataRef.getServiceWorkerUrl(),e=yield this.dataRef.getServiceWorkerScope(),n=(yield this.dataRef.getSdkVersion())!==(yield this.dataRef.getServiceWorkerVersion())?`?cache_clean=${(0,o.v4)()}`:"";n&&console.debug("SDK version and SWVersion not same. Cleaning Cache!"),yield navigator.serviceWorker.register(`${t}${n}`,{scope:e})}))}checkIsNeedResubscribe(){return i(this,void 0,void 0,(function*(){const t=yield this.dataRef.getPushSubscription(),e=yield this.dataRef.getLastPermissionStatus(),n=this.getPermission();return!(!t||e===n)&&(console.debug("Resubscribe Required as Permission Changed"),yield this.dataRef.setLastPermissionStatus(n),!0)}))}getSubscription(){return i(this,void 0,void 0,(function*(){return(yield this.getServiceWorkerRegistration()).pushManager.getSubscription()}))}urlBase64ToUint8Array(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(e),i=new Uint8Array(n.length);for(let t=0;t<n.length;++t)i[t]=n.charCodeAt(t);return i}checkIsRegister(){return i(this,void 0,void 0,(function*(){return!!(yield this.dataRef.getSubscriptionId())}))}}},611:(t,e,n)=>{var i;n.r(e),n.d(e,{NIL:()=>k,parse:()=>m,stringify:()=>l,v1:()=>f,v3:()=>N,v4:()=>O,v5:()=>P,validate:()=>a,version:()=>C});var o=new Uint8Array(16);function r(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&s.test(t)};for(var c=[],p=0;p<256;++p)c.push((p+256).toString(16).substr(1));const l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};var d,u,h=0,g=0;const f=function(t,e,n){var i=e&&n||0,o=e||new Array(16),s=(t=t||{}).node||d,a=void 0!==t.clockseq?t.clockseq:u;if(null==s||null==a){var c=t.random||(t.rng||r)();null==s&&(s=d=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=u=16383&(c[6]<<8|c[7]))}var p=void 0!==t.msecs?t.msecs:Date.now(),f=void 0!==t.nsecs?t.nsecs:g+1,m=p-h+(f-g)/1e4;if(m<0&&void 0===t.clockseq&&(a=a+1&16383),(m<0||p>h)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=p,g=f,u=a;var b=(1e4*(268435455&(p+=122192928e5))+f)%4294967296;o[i++]=b>>>24&255,o[i++]=b>>>16&255,o[i++]=b>>>8&255,o[i++]=255&b;var v=p/4294967296*1e4&268435455;o[i++]=v>>>8&255,o[i++]=255&v,o[i++]=v>>>24&15|16,o[i++]=v>>>16&255,o[i++]=a>>>8|128,o[i++]=255&a;for(var y=0;y<6;++y)o[i+y]=s[y];return e||l(o)};const m=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};function b(t,e,n){function i(t,i,o,r){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=m(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(i),s.set(t,i.length),(s=n(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,o){r=r||0;for(var a=0;a<16;++a)o[r+a]=s[a];return o}return l(s)}try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function v(t){return 14+(t+64>>>9<<4)+1}function y(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function S(t,e,n,i,o,r){return y((s=y(y(e,t),y(i,r)))<<(a=o)|s>>>32-a,n);var s,a}function E(t,e,n,i,o,r,s){return S(e&n|~e&i,t,e,o,r,s)}function w(t,e,n,i,o,r,s){return S(e&i|n&~i,t,e,o,r,s)}function _(t,e,n,i,o,r,s){return S(e^n^i,t,e,o,r,s)}function I(t,e,n,i,o,r,s){return S(n^(e|~i),t,e,o,r,s)}const x=function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,i="0123456789abcdef",o=0;o<n;o+=8){var r=t[o>>5]>>>o%32&255,s=parseInt(i.charAt(r>>>4&15)+i.charAt(15&r),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[v(e)-1]=e;for(var n=1732584193,i=-271733879,o=-1732584194,r=271733878,s=0;s<t.length;s+=16){var a=n,c=i,p=o,l=r;n=E(n,i,o,r,t[s],7,-680876936),r=E(r,n,i,o,t[s+1],12,-389564586),o=E(o,r,n,i,t[s+2],17,606105819),i=E(i,o,r,n,t[s+3],22,-1044525330),n=E(n,i,o,r,t[s+4],7,-176418897),r=E(r,n,i,o,t[s+5],12,1200080426),o=E(o,r,n,i,t[s+6],17,-1473231341),i=E(i,o,r,n,t[s+7],22,-45705983),n=E(n,i,o,r,t[s+8],7,1770035416),r=E(r,n,i,o,t[s+9],12,-1958414417),o=E(o,r,n,i,t[s+10],17,-42063),i=E(i,o,r,n,t[s+11],22,-1990404162),n=E(n,i,o,r,t[s+12],7,1804603682),r=E(r,n,i,o,t[s+13],12,-40341101),o=E(o,r,n,i,t[s+14],17,-1502002290),n=w(n,i=E(i,o,r,n,t[s+15],22,1236535329),o,r,t[s+1],5,-165796510),r=w(r,n,i,o,t[s+6],9,-1069501632),o=w(o,r,n,i,t[s+11],14,643717713),i=w(i,o,r,n,t[s],20,-373897302),n=w(n,i,o,r,t[s+5],5,-701558691),r=w(r,n,i,o,t[s+10],9,38016083),o=w(o,r,n,i,t[s+15],14,-660478335),i=w(i,o,r,n,t[s+4],20,-405537848),n=w(n,i,o,r,t[s+9],5,568446438),r=w(r,n,i,o,t[s+14],9,-1019803690),o=w(o,r,n,i,t[s+3],14,-187363961),i=w(i,o,r,n,t[s+8],20,1163531501),n=w(n,i,o,r,t[s+13],5,-1444681467),r=w(r,n,i,o,t[s+2],9,-51403784),o=w(o,r,n,i,t[s+7],14,1735328473),n=_(n,i=w(i,o,r,n,t[s+12],20,-1926607734),o,r,t[s+5],4,-378558),r=_(r,n,i,o,t[s+8],11,-2022574463),o=_(o,r,n,i,t[s+11],16,1839030562),i=_(i,o,r,n,t[s+14],23,-35309556),n=_(n,i,o,r,t[s+1],4,-1530992060),r=_(r,n,i,o,t[s+4],11,1272893353),o=_(o,r,n,i,t[s+7],16,-155497632),i=_(i,o,r,n,t[s+10],23,-1094730640),n=_(n,i,o,r,t[s+13],4,681279174),r=_(r,n,i,o,t[s],11,-358537222),o=_(o,r,n,i,t[s+3],16,-722521979),i=_(i,o,r,n,t[s+6],23,76029189),n=_(n,i,o,r,t[s+9],4,-640364487),r=_(r,n,i,o,t[s+12],11,-421815835),o=_(o,r,n,i,t[s+15],16,530742520),n=I(n,i=_(i,o,r,n,t[s+2],23,-995338651),o,r,t[s],6,-198630844),r=I(r,n,i,o,t[s+7],10,1126891415),o=I(o,r,n,i,t[s+14],15,-1416354905),i=I(i,o,r,n,t[s+5],21,-57434055),n=I(n,i,o,r,t[s+12],6,1700485571),r=I(r,n,i,o,t[s+3],10,-1894986606),o=I(o,r,n,i,t[s+10],15,-1051523),i=I(i,o,r,n,t[s+1],21,-2054922799),n=I(n,i,o,r,t[s+8],6,1873313359),r=I(r,n,i,o,t[s+15],10,-30611744),o=I(o,r,n,i,t[s+6],15,-1560198380),i=I(i,o,r,n,t[s+13],21,1309151649),n=I(n,i,o,r,t[s+4],6,-145523070),r=I(r,n,i,o,t[s+11],10,-1120210379),o=I(o,r,n,i,t[s+2],15,718787259),i=I(i,o,r,n,t[s+9],21,-343485551),n=y(n,a),i=y(i,c),o=y(o,p),r=y(r,l)}return[n,i,o,r]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(v(e)),i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))};const N=b("v3",48,x);const O=function(t,e,n){var i=(t=t||{}).random||(t.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return l(i)};function T(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function A(t,e){return t<<e|t>>>32-e}const R=function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var i=unescape(encodeURIComponent(t));t=[];for(var o=0;o<i.length;++o)t.push(i.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var r=t.length/4+2,s=Math.ceil(r/16),a=new Array(s),c=0;c<s;++c){for(var p=new Uint32Array(16),l=0;l<16;++l)p[l]=t[64*c+4*l]<<24|t[64*c+4*l+1]<<16|t[64*c+4*l+2]<<8|t[64*c+4*l+3];a[c]=p}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var d=0;d<s;++d){for(var u=new Uint32Array(80),h=0;h<16;++h)u[h]=a[d][h];for(var g=16;g<80;++g)u[g]=A(u[g-3]^u[g-8]^u[g-14]^u[g-16],1);for(var f=n[0],m=n[1],b=n[2],v=n[3],y=n[4],S=0;S<80;++S){var E=Math.floor(S/20),w=A(f,5)+T(E,m,b,v)+y+e[E]+u[S]>>>0;y=v,v=b,b=A(m,30)>>>0,m=f,f=w}n[0]=n[0]+f>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};const P=b("v5",80,R),k="00000000-0000-0000-0000-000000000000";const C=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},618:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getStyles=e.buttonWidgetStyles=e.commonStyles=e.bellStyles=e.getPopupHtml=e.buildSegmentCheckbox=e.positionClasses=e.getSelectedSegments=void 0;e.getSelectedSegments=()=>{const t=document.querySelectorAll('input[name="aw--segment"]:checked');return Array.from(t).map((t=>t.value))};e.positionClasses=t=>(t?[null==t?void 0:t.toLowerCase().replace(/\s+/g,"-")]:[]).join(" ");e.buildSegmentCheckbox=t=>{var e,n;let i="";return(null===(e=t.segments)||void 0===e?void 0:e.length)>0&&(i+='<div class="aw-checkbox-grid">',i+=null===(n=t.segments)||void 0===n?void 0:n.map((t=>`<label class="aw-checkbox-item">\n                <input type="checkbox" checked name="aw--segment" value="${t.key}">\n                <span class="checkbox-text">${t.value}</span>\n             </label>`)).join(""),i+="</div>"),i};e.getPopupHtml=t=>`\n      <div id="aw-popup-container" class="aw-popup-container">\n          <div id="aw-popup-box" class="aw-popup-box">\n            <div class="aw-popup-header">Website Notifications</div>\n            <div class="aw-popup-content">\n              <img alt src="${t.iconUrl}"/>\n              <p style="text-align: center">${t.headerText}</p>\n              ${(0,e.buildSegmentCheckbox)(t)}\n              <div class="aw-prompt-actions" style="border-top: 1px solid #eee; padding-top: 6px; justify-content:center">\n                <button id="aw-popup-accept" type="button" class="subscribe">${t.buttonAcceptText}</button>\n                <span id="aw-popup-decline" class="later"> ${t.buttonCancelText}</span>\n              </div>\n              ${t.disableBranding?"":'\n                <div class="aw__powered-by" style="margin-top: 12px">\n                  Powered by <a href="https://alertwise.net" target="_blank"><strong>AlertWise</strong></a>\n                </div>\n              '}\n            </div>\n          </div>\n      </div>\n    `;e.bellStyles=t=>`\n      .aw-bell-container {\n        position: absolute;\n        bottom: 20px;\n        z-index: 1000;\n        border-radius: 50%;\n        display: flex;\n        cursor: pointer;\n        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);\n        transition: all 0.3s;\n    \n        .aw-bell-circle {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: background-color 0.3s, transform 0.2s;\n          background-color: ${t.buttonAcceptBackgroundColor};\n    \n          svg {\n            width: 48px;\n            height: 48px;\n            fill: ${t.backgroundColor};\n          }\n        }\n      }\n    \n      .aw-bell-container.bottom-left {\n        margin-left: 16px;\n        justify-self: flex-start;\n      }\n    \n      .aw-bell-container.bottom-right {\n        margin-right: 16px;\n        justify-self: flex-end;\n      }\n    \n      .aw-bell-container:hover .tooltip-message {\n        justify-self: flex-end;\n      }\n      \n      .aw-bell-container:hover .tooltip-message {\n        visibility: visible;\n        opacity: 1;\n      }\n    \n      .tooltip-message {\n        visibility: hidden;\n        position: absolute;\n        opacity: 0;\n        transition: opacity 0.3s;\n        background: black;\n        color: white;\n        padding: 6px;\n        border-radius: 4px;\n        width: max-content;\n        max-width: 200px;\n        z-index: 10;\n      }\n    \n      .tooltip-message.bottom-right {\n        right: 100%;\n        top: 50%;\n        transform: translateY(-50%);\n        margin-right: 8px;\n      }\n    \n      .tooltip-message.bottom-right::after {\n        content: '';\n        position: absolute;\n        right: -12px;\n        top: 50%;\n        border: 6px solid transparent;\n        border-left-color: black;\n        transform: translateY(-50%);\n      }\n    \n      .tooltip-message.bottom-left {\n        left: 100%;\n        top: 50%;\n        transform: translateY(-50%);\n        margin-left: 8px;\n      }\n    \n      .tooltip-message.bottom-left::after {\n        content: '';\n        position: absolute;\n        left: -12px;\n        top: 50%;\n        border: 6px solid transparent;\n        border-right-color: black;\n        transform: translateY(-50%);\n      }\n    \n      .aw-popup-container {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: none;\n          justify-content: center;\n          align-items: center;\n          background: rgba(0,0,0,0.2);\n          z-index: 2147483649;\n    \n        .aw-popup-box {\n          width: 90%;\n          opacity: 1;\n          max-width: 330px;\n          border-radius: 12px;\n          text-align: center;\n          overflow: hidden;\n          transform: scale(0.9);\n          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n          background: ${t.backgroundColor};\n          animation: fadeInScale 0.4s ease-out forwards;\n          font-family: "Segoe UI", Arial, sans-serif;\n    \n          .aw-popup-header {\n            padding: 10px;\n            font-size: 15px;\n            font-weight: bold;\n            letter-spacing: 0.5px;\n            color: ${t.backgroundColor};\n            background: ${t.buttonAcceptBackgroundColor};\n          }\n    \n          .aw-popup-content {\n            padding: 16px 16px 8px 16px;\n    \n            img {\n              max-width: 60px;\n              margin-bottom: 12px;\n            }\n    \n            p {\n              font-size: 13px;\n              color: #444;\n              margin: 0;\n              line-height: 1.4em;\n            }\n          }\n    \n        }\n    \n        @keyframes fadeInScale {\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n      }\n      .aw-popup-container-show {\n        display: flex;\n      }\n    `,e.commonStyles="\n    .aw__powered-by {\n      font-size: 8px;\n      height: 9px;\n      line-height: 9px;\n      cursor: pointer;\n      font-weight: 500;\n      background: none;\n      opacity: .8;\n      bottom: 5px\n    }\n";e.buttonWidgetStyles=t=>`\n      .aw-button-widget-container {\n        position: absolute;\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n            \n        .aw-button-close-button {\n          position: absolute;\n          top: -10px;\n          width: 20px;\n          height: 20px;\n          background-color: white;\n          color: #555;\n          border: none;\n          border-radius: 50%;\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n          font-size: 20px;\n          line-height: 1;\n          cursor: pointer;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          opacity: 1;\n          visibility: visible;\n          transition: opacity 0.3s ease, visibility 0.3s ease;\n        }\n        button[class*=" left-"] {\n          right: -10px;\n        }\n        button[class*=" right-"] {\n          left: -10px;\n        }\n        .aw-button-widget {\n          background-color: ${t.buttonAcceptBackgroundColor};\n          color: ${t.backgroundColor};\n          border: none;\n          box-shadow: -2px 2px 15px rgba(0, 0, 0, 0.2);\n          cursor: pointer;\n          transition: background-color 0.3s ease;\n    \n          padding: 12px;\n          font-size: 15px;\n          font-weight: 600;\n          text-align: center;\n    \n          writing-mode: vertical-lr;\n          text-orientation: mixed;\n    \n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n        }\n    \n        .aw-button-widget .bell-icon {\n          font-size: 16px;\n          margin-top: 10px;\n          transform: rotate(-90deg);\n        }\n    \n        .aw-button-widget .main-text {\n          transform: rotate(180deg);\n        }\n    \n        .aw-button-widget-container:hover .aw-button-close-button {\n          opacity: 1;\n          visibility: visible;\n        }\n      }\n      .left-top{ left:0; top:30px }\n      .left-center{ left:0; transform: translateY(33vh) }\n      .left-bottom{ left:0; bottom:30px }\n      \n      .right-top{ right:0; top:30px }\n      .right-center{ right:0; transform: translateY(33vh) }\n      .right-bottom{ right:0; bottom:30px }\n    `;e.getStyles=t=>{const n=(t.isMobile?t.optInPlacementMobile:t.optInPlacementDesktop).toLowerCase().includes("bottom");return e.commonStyles+(0,e.buttonWidgetStyles)(t)+(0,e.bellStyles)(t)+`\n    .aw-subscription-prompt {\n        all: unset;\n        letter-spacing: normal;\n        word-spacing: normal;\n        text-shadow: none;\n        font-family: inherit;\n        box-sizing: border-box;\n        border: 0;\n        vertical-align: initial;\n        background-repeat: no-repeat;\n        font-weight: normal;\n        font-style: normal;\n        line-height: normal;\n        text-transform: initial;\n        border-width: 0;\n        border-style: none;\n        margin: 0;\n        padding: 0;\n        text-align: left;\n        direction: ltr;\n        border-radius: 0px;\n        left: 0;\n        right: 0;\n        top: ${n?"auto":"0"};\n        bottom: ${n?"0":"auto"};\n        display: none;\n        position: fixed;\n        color: black;\n        z-index: 2147483648;\n    }\n    .aw-subscription-prompt.show { display: grid; }\n    .aw-prompt-default {\n      width: 420px;\n      max-width: 95%;\n      display: flex;\n      padding: 16px 16px 8px 16px;\n      position: relative;\n      justify-self: center;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n      background: ${t.backgroundColor};\n    }\n    .aw-prompt-default.top,\n    .aw-prompt-default.top-center {\n      top: 0;\n      border-radius: 0 0 12px 12px;\n    }\n    .aw-prompt-default.top-left {\n      top: 0;\n      justify-self: flex-start;\n      border-radius: 0 0 12px 12px;\n    }\n    .aw-prompt-default.top-right {\n      top: 0;\n      justify-self: flex-end;\n      border-radius: 0 0 12px 12px;\n    }\n    .aw-prompt-default.bottom {\n      bottom: 0;\n      top: auto;\n      border-radius: 12px 12px 0 0;\n    }\n    .aw--icon {\n      width: 60px;\n      height: 60px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      border-radius: 2px;\n      flex-shrink: 0;\n    }\n    .aw--icon img {\n      width: 60px;\n      height: 60px;\n    }\n    .aw-prompt-content {\n      margin-left: 16px;\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n    }\n    .aw-bar-content {\n      margin-left: 16px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: left;\n      gap: 1rem;\n    }\n    .aw--title {\n      line-height: 18px;\n      p {\n        margin-block-start: 0;\n        word-wrap: break-word;\n        overflow: hidden;\n        font-size: 14px;\n        font-style: normal;\n        text-align: left;\n      }\n    }\n    .aw-prompt-actions {\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      gap: 16px;\n      margin-top: 16px;\n    }\n    .aw-prompt-actions .later {\n      font-size: 14px;\n      cursor: pointer;\n      padding: 8px 16px;\n      color: ${t.buttonAcceptBackgroundColor};\n    }\n    .aw-prompt-actions .subscribe {\n      color: #fff;\n      border: none;\n      padding: 12px 16px;\n      border-radius: 4px;\n      font-size: 14px;\n      cursor: pointer;\n      min-width: 100px;\n      transition: background 0.2s;\n      background: ${t.buttonAcceptBackgroundColor};\n    }\n    \n    .aw-subscription-prompt.large {\n      top: 50%;\n      transform: translateY(-50%);\n    }\n    .aw-prompt-default.large {\n      align-items: center;\n      border-radius: 12px;\n      flex-direction: column;\n    }\n    .aw-checkbox-grid {\n      display: grid;\n      grid-template-columns: repeat(2, auto);\n      gap: 1rem;\n      align-items: center;\n      margin-top: 0.2rem;\n    }\n    .aw-checkbox-item {\n      gap: 0.5rem;\n      display: flex;\n      min-width: 0;\n      align-items: center;\n    }\n    .aw-checkbox-item .checkbox-text {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap; \n      // flex: 1;\n      min-width: 0;\n      font-size: 13px;\n    }\n    input[type="checkbox"] {\n      width: 15px;\n      height: 15px;\n      accent-color: ${t.buttonAcceptBackgroundColor};\n    }\n    @media (max-width: 480px) {\n      .aw-subscription-prompt.show { display: block; }\n      .aw-prompt-default {\n        width: auto;\n        padding: 12px 12px 6px 12px;\n      }\n      .aw--icon {\n        width: 50px;\n        height: 50px;\n      }\n      .aw--icon img {\n        width: 50px;\n        height: 50px;\n      }\n      \n      .aw--title {\n        line-height: 16px;\n        p {\n          font-size: 12px;\n        }\n      }\n      \n      .aw-prompt-actions {\n        gap: 10px;\n        margin-top: 10px;\n      }\n      .aw-prompt-actions .subscribe {\n        font-size: 12px;\n        padding: 9px 16px;\n      }\n      .aw-checkbox-item .checkbox-text {\n        font-size: 11px;\n      }\n      .aw-bar-content {\n        flex-direction: column;\n        text-align: center;\n        gap: 0;\n      }\n    }\n    @supports (-moz-appearance: none) {\n      @media (max-width: 480px) {\n        .aw-subscription-prompt.show {\n          display: grid;\n        }\n      }\n    }\n  `}},694:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(870),r=n(729),s=n(911),a=n(950),c=n(784),p=n(600),l=new r.Api;self.addEventListener("push",(function(t){t.waitUntil(function(t){return i(this,void 0,void 0,(function*(){yield self.clients.claim();const e=t.data.json();console.log("payload : {}",e);const n=yield s.data.getAppId(),r=new c.default(e),a=r.getShowNotificationOptions().data,p={appId:n,deliveredAt:new Date,campaignId:a.campaignId,subscriberId:a.subscriberId,notificationId:a.notificationId};yield function(t){return i(this,void 0,void 0,(function*(){const e=yield t.getTitle(),n=t.getShowNotificationOptions();n.silent||(yield self.registration.showNotification(e,n))}))}(r).then((()=>l.postEvent(p).then((()=>console.log("Received Event posted to server!"))))).then((()=>self.dispatchEvent(new CustomEvent(o.EVENT_ON_NOTIFICATION_DISPLAYED,{detail:{title:r.getTitle()}}))))}))}(t).catch((e=>(0,a.onSWFailure)(e,t))))})),self.addEventListener("install",(function(t){return t.waitUntil(function(){return i(this,void 0,void 0,(function*(){console.log("Installing!!!!!!!!!!!!!!!!!!"),yield s.data.setServiceWorkerVersion(o.__VERSION__),yield self.skipWaiting()}))}().catch((e=>(0,a.onSWFailure)(e,t))))})),self.addEventListener("activate",(function(t){t.waitUntil(function(){return i(this,void 0,void 0,(function*(){yield self.clients.claim()}))}().catch((e=>(0,a.onSWFailure)(e,t))))})),self.addEventListener(o.EVENT_ON_SW_ERROR,a.sendLogMsgToRemoteServer),self.addEventListener("notificationclick",(function(t){console.log("Inside onClickNotificationEventHandler --------"),t.waitUntil(function(t){return i(this,void 0,void 0,(function*(){var e,n;yield self.clients.claim();const r=t.notification;console.log("notificationOptions :",r),t.notification.close();let a=r.data.targetUrl;r.actions&&"action1"===t.action?a=null===(e=r.data.buttons)||void 0===e?void 0:e[0].url:r.actions&&"action2"===t.action&&(a=null===(n=r.data.buttons)||void 0===n?void 0:n[1].url);const c=yield s.data.getAppId(),p=r.data,d={appId:c,clickedAt:new Date,campaignId:p.campaignId,subscriberId:p.subscriberId,notificationId:p.notificationId};yield l.postEvent(d).then((()=>console.log("Clicked Event posted to server!"))),self.dispatchEvent(new CustomEvent(o.EVENT_ON_NOTIFICATION_CLICK,{detail:{title:t.notification.title}})),a&&t.waitUntil(self.clients.matchAll({type:"window"}).then((t=>function(t,e){return i(this,void 0,void 0,(function*(){const{hostname:n,pathname:i}=new URL(e,self.location.origin),o=t.find((t=>{const{hostname:e,pathname:o}=new URL(t.url);return e===n&&o===i}));return o?(yield o.focus(),!1):(yield self.clients.openWindow(e).then((t=>{t&&t.focus()})),!0)}))}(t,a))))}))}(t).catch((e=>(0,a.onSWFailure)(e,t))))})),self.addEventListener("notificationclose",(function(t){console.log("Inside onCloseNotificationEventHandler!!!!!!!!!"),t.waitUntil(function(t){return i(this,void 0,void 0,(function*(){yield self.clients.claim(),t.notification.close(),self.dispatchEvent(new CustomEvent(o.EVENT_ON_NOTIFICATION_CLOSE,{detail:{title:t.notification.title}}))}))}(t).catch((e=>(0,a.onSWFailure)(e,t))))})),self.addEventListener("pushsubscriptionchange",(function(t){return i(this,void 0,void 0,(function*(){console.log("Inside *********onPushSubscriptionChange*********"),t.waitUntil(function(t){return i(this,void 0,void 0,(function*(){let e=t.newSubscription;if(!e&&(e=yield self.registration.pushManager.getSubscription(),!e))return;const n=new p.DefaultPushService(l);yield n.subscribe(e)}))}(t).catch((e=>(0,a.onSWFailure)(e,t))))}))}))},729:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Api=void 0;const o=n(911),r=n(870);e.Api=class{constructor(){this.dataRef=o.data}getAppSetting(){return i(this,void 0,void 0,(function*(){const t=yield this.dataRef.getAppId(),e=yield this.dataRef.getApiEntrypoint(),n=yield fetch(`${e}/app/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(r.APP_DOES_NOT_EXISTS);return n.json()}))}postEvent(t){return i(this,void 0,void 0,(function*(){const e=yield this.dataRef.getApiEntrypoint(),n=yield fetch(`${e}/event`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=yield n.json();return console.debug("Response json: {}",i),i}))}postSystemLog(t){return i(this,void 0,void 0,(function*(){const e=yield this.dataRef.getApiEntrypoint();yield fetch(`${e}/logs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}))}postSubscription(t){return i(this,void 0,void 0,(function*(){const e=yield this.dataRef.getApiEntrypoint(),n=yield fetch(`${e}/subscription`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=yield n.json();return console.debug("Response json: {}",i),i}))}updateSubscription(t,e){return i(this,void 0,void 0,(function*(){const n=yield this.dataRef.getApiEntrypoint(),i=yield fetch(`${n}/subscription/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=yield i.json();return console.debug("Response json: {}",o),o}))}deleteSubscription(t){return i(this,void 0,void 0,(function*(){if(!t)return;const e=yield this.dataRef.getApiEntrypoint(),n=yield fetch(`${e}/subscription/${t}`,{method:"DELETE"}),i=yield n.json();return console.debug("Response json: {}",i),i}))}addSegment(t){return i(this,void 0,void 0,(function*(){const e=yield this.dataRef.getApiEntrypoint(),n=yield fetch(`${e}/segments/addSubscribers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=yield n.json();return console.debug("Response json: {}",i),i}))}removeSegment(t){return i(this,void 0,void 0,(function*(){const e=yield this.dataRef.getApiEntrypoint(),n=yield fetch(`${e}/segments/removeSubscribers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=yield n.json();return console.debug("Response json: {}",i),i}))}sendTriggerEvent(t){return i(this,void 0,void 0,(function*(){const e=yield this.dataRef.getApiEntrypoint(),n=yield fetch(`${e}/trigger/events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),i=yield n.json();return console.debug("Response json: {}",i),i}))}getIpInfo(){return i(this,void 0,void 0,(function*(){const t=yield this.dataRef.getApiEntrypoint(),e=yield fetch(`${t}/ipinfo`);if(!e.ok)throw new Error(r.IP_INFO_API_FAILED);return e.json()}))}communicateMessage(t){return i(this,void 0,void 0,(function*(){if(document.referrer){const e=new URL(document.referrer),n=new URL(yield this.dataRef.getAppUrl());e.host===n.host&&window.opener.postMessage(t,e.origin)}}))}}},784:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=n(911);e.default=class{constructor(t){this.payload=t,this.dataRef=o.data}getTitle(){return i(this,void 0,void 0,(function*(){return this.payload.title||this.dataRef.getDefaultNotificationTitle()}))}getShowNotificationOptions(){return this.payload.actions=this.payload.data.buttons,this.payload}}},870:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPromptParams=e.IP_INFO_API_FAILED=e.APP_DOES_NOT_EXISTS=e.EVENT_ON_CLOSE_UNIVERSAL_SUB_PAGE=e.EVENT_ON_NOTIFICATION_DISPLAYED=e.EVENT_ON_NOTIFICATION_CLOSE=e.EVENT_ON_NOTIFICATION_CLICK=e.EVENT_ON_SUBSCRIBE_CHANGE=e.EVENT_ON_PERMISSION_GRANTED=e.EVENT_ON_PERMISSION_DEFAULT=e.EVENT_ON_PERMISSION_DENIED=e.EVENT_ON_PERMISSION_PROMPT=e.EVENT_ON_UNSUBSCRIBE=e.EVENT_ON_SUBSCRIBE=e.EVENT_ON_SW_ERROR=e.EVENT_ON_SDK_ERROR=e.EVENT_ON_READY=e.PERMISSION_PROMPT=e.PERMISSION_GRANTED=e.PERMISSION_DENIED=e.DELAY=e.SCROLL=e.DEFAULT_API_ENDPOINT=e.DEFAULT_NOTIFICATION_IMAGE=e.DEFAULT_NOTIFICATION_TITLE=e.DEFAULT_REGISTRATION_TIMEOUT=e.DEFAULT_SERVICE_WORKER_SCOPE=e.DEFAULT_SERVICE_WORKER_URL=e.PERIOD_SEND_APP_OPEN=e.__VERSION__=void 0,e.__VERSION__=n(330).version,e.PERIOD_SEND_APP_OPEN=9e5,e.DEFAULT_SERVICE_WORKER_URL="/service-worker.js",e.DEFAULT_SERVICE_WORKER_SCOPE="/",e.DEFAULT_REGISTRATION_TIMEOUT=1e4,e.DEFAULT_NOTIFICATION_TITLE="AlertWise Notification",e.DEFAULT_NOTIFICATION_IMAGE="https://cdn.alertwise.net/alertwise/img/bell.png",e.DEFAULT_API_ENDPOINT="https://api.alertwise.net",e.SCROLL="scroll",e.DELAY="delay",e.PERMISSION_DENIED="denied",e.PERMISSION_GRANTED="granted",e.PERMISSION_PROMPT="default",e.EVENT_ON_READY="AlertWise.onReady",e.EVENT_ON_SDK_ERROR="AlertWise.onSDKError",e.EVENT_ON_SW_ERROR="AlertWise.onSWError",e.EVENT_ON_SUBSCRIBE="AlertWise.onSubscribe",e.EVENT_ON_UNSUBSCRIBE="AlertWise.onUnsubscribe",e.EVENT_ON_PERMISSION_PROMPT="AlertWise.onPermissionPrompt",e.EVENT_ON_PERMISSION_DENIED="AlertWise.onPermissionDenied",e.EVENT_ON_PERMISSION_DEFAULT="AlertWise.onPermissionDefault",e.EVENT_ON_PERMISSION_GRANTED="AlertWise.onPermissionGranted",e.EVENT_ON_SUBSCRIBE_CHANGE="AlertWise.onSubscriptionChange",e.EVENT_ON_NOTIFICATION_CLICK="AlertWise.onNotificationClick",e.EVENT_ON_NOTIFICATION_CLOSE="AlertWise.onNotificationClose",e.EVENT_ON_NOTIFICATION_DISPLAYED="AlertWise.onNotificationDisplayed",e.EVENT_ON_CLOSE_UNIVERSAL_SUB_PAGE="AlertWise.onCloseUniversalSubPage",e.APP_DOES_NOT_EXISTS="AlertWise.APP_DOES_NOT_EXISTS",e.IP_INFO_API_FAILED="AlertWise.IP_INFO_API_FAILED",e.defaultPromptParams={iconUrl:"",headerText:"",backgroundColor:"#FFFFFF",optInPlacementDesktop:"Bottom Right",optInPlacementMobile:"Bottom Right",buttonAcceptBackgroundColor:"#1A72E8",buttonAcceptText:"Subscribe to notification",segments:[]}},911:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.data=void 0;const o=n(321),r=n(870);e.data=new class{constructor(){this.store=o.keyValue,this.getTimeZoneOffset=()=>(new Date).getTimezoneOffset(),this.setSdkVersion=t=>this.store.set("params.sdkVersion",t),this.getSdkVersion=()=>this.store.get("params.sdkVersion"),this.setApplicationServerKey=t=>this.store.set("params.applicationServerKey",t),this.getApplicationServerKey=()=>this.store.get("params.applicationServerKey"),this.setLastOpenApplicationTime=t=>this.store.set("params.lastOpenApplicationTime",t),this.getLastOpenApplicationTime=()=>this.store.get("params.lastOpenApplicationTime",0),this.getAppId=()=>this.store.get("params.appId"),this.setAppId=t=>this.store.set("params.appId",t),this.setBrowser=t=>this.store.set("params.browser",t),this.getBrowser=()=>this.store.get("params.browser"),this.setOs=t=>this.store.set("params.os",t),this.getOs=()=>this.store.get("params.os"),this.setBrowserVersion=t=>this.store.set("params.browserVersion",t),this.getBrowserVersion=()=>this.store.get("params.browserVersion"),this.setDeviceType=t=>this.store.set("params.deviceType",t),this.getDeviceType=()=>this.store.get("params.deviceType"),this.setLanguage=t=>this.store.set("params.language",t),this.getLanguage=()=>this.store.get("params.language","en"),this.setApiEntrypoint=t=>this.store.set("params.apiEntrypoint",t),this.getApiEntrypoint=()=>this.store.get("params.apiEntrypoint",r.DEFAULT_API_ENDPOINT),this.setServiceWorkerVersion=t=>this.store.set("params.serviceWorkerVersion",t),this.getServiceWorkerVersion=()=>this.store.get("params.serviceWorkerVersion"),this.setDefaultNotificationImage=t=>this.store.set("params.defaultNotificationImage",t),this.getDefaultNotificationImage=()=>this.store.get("params.defaultNotificationImage",r.DEFAULT_NOTIFICATION_IMAGE),this.setServiceWorkerUrl=t=>this.store.set("params.serviceWorkerUrl",t),this.getServiceWorkerUrl=()=>this.store.get("params.serviceWorkerUrl",r.DEFAULT_SERVICE_WORKER_URL),this.setServiceWorkerScope=t=>t&&this.store.set("params.serviceWorkerScope",t),this.getServiceWorkerScope=()=>this.store.get("params.serviceWorkerScope",r.DEFAULT_SERVICE_WORKER_SCOPE),this.setLastPermissionStatus=t=>this.store.set("params.isLastPermissionStatus",t),this.getLastPermissionStatus=()=>this.store.get("params.isLastPermissionStatus"),this.setPromptDisplayCount=t=>this.store.set("params.promptDisplayCount",t),this.getPromptDisplayCount=()=>this.store.get("params.promptDisplayCount",0),this.setPromptLastSeenTime=t=>this.store.set("params.promptLastSeenTime",t),this.getPromptLastSeenTime=()=>this.store.get("params.promptLastSeenTime",0),this.setDefaultNotificationTitle=t=>this.store.set("params.defaultNotificationTitle",t),this.getDefaultNotificationTitle=()=>this.store.get("params.defaultNotificationTitle",r.DEFAULT_NOTIFICATION_TITLE),this.setPushSubscription=t=>this.store.set("params.pushSubscription",t),this.getPushSubscription=()=>this.store.get("params.pushSubscription"),this.setSubscriptionId=t=>this.store.set("params.subscriptionId",t),this.getSubscriptionId=()=>this.store.get("params.subscriptionId"),this.setSubscriber=t=>this.store.set("params.subscriber",t),this.getSubscriber=()=>this.store.get("params.subscriber"),this.setDisableBranding=t=>this.store.set("params.disableBranding",t),this.getDisableBranding=()=>this.store.get("params.disableBranding",!1),this.setSubscriptionOnSubDomain=t=>this.store.set("params.subscriptionOnSubDomain",t),this.isSubscriptionOnSubDomain=()=>this.store.get("params.subscriptionOnSubDomain",!1),this.setUniversalSubscriptionLink=t=>this.store.set("params.universalSubscriptionLink",t),this.isUniversalSubscriptionLink=()=>this.store.get("params.universalSubscriptionLink",!1),this.setIpInfo=t=>this.store.set("params.ipInfo",t),this.getIpInfo=()=>this.store.get("params.ipInfo"),this.setSubDomain=t=>this.store.set("params.subDomain",t),this.getSubDomain=()=>this.store.get("params.subDomain"),this.setAppUrl=t=>this.store.set("params.appUrl",t),this.getAppUrl=()=>this.store.get("params.appUrl"),this.setAppSettings=t=>this.store.set("params.appSettings",t),this.getAppSettings=()=>this.store.get("params.appSettings"),this.setManualUnSubscribed=t=>this.store.set("params.manualUnsubscribed",t),this.isManualUnSubscribed=()=>this.store.get("params.manualUnsubscribed",!1),this.setActivePrompt=t=>this.store.set("params.activePrompt",t),this.getActivePrompt=()=>this.store.get("params.activePrompt"),this.setSubWidget=t=>this.store.set("params.activeSubWidget",t),this.getSubWidget=()=>this.store.get("params.activeSubWidget"),this.setUnSubWidget=t=>this.store.set("params.activeUnSubWidget",t),this.getUnSubWidget=()=>this.store.get("params.activeUnSubWidget"),this.setPermissionWidget=t=>this.store.set("params.permissionResetWidget",t),this.getPermissionWidget=()=>this.store.get("params.permissionResetWidget"),this.setNativePrompt=t=>this.store.set("params.nativePrompt",t),this.getNativePrompt=()=>this.store.get("params.nativePrompt")}clearAll(){return i(this,void 0,void 0,(function*(){yield Promise.all(["params.os","params.appId","params.appUrl","params.ipInfo","params.language","params.browser","params.deviceType","params.subscriber","params.sdkVersion","params.apiEntrypoint","params.subscriptionId","params.browserVersion","params.disableBranding","params.pushSubscription","params.promptDisplayCount","params.promptLastSeenTime","params.manualUnsubscribed","params.applicationServerKey","params.isLastPermissionStatus","params.lastOpenApplicationTime","params.subscriptionOnSubDomain","params.defaultNotificationImage","params.defaultNotificationTitle","params.universalSubscriptionLink","params.subDomain","params.appSettings","params.serviceWorkerUrl","params.serviceWorkerScope","params.serviceWorkerVersion","params.activePrompt","params.nativePrompt","params.activeSubWidget","params.activeUnSubWidget","params.permissionResetWidget"].map((t=>this.store.set(t,void 0))))}))}}},950:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.onSWFailure=function(t,e){return i(this,void 0,void 0,(function*(){var n,i;const s=e.toString(),a=null===(i=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.json)||void 0===i?void 0:i.call(n),c=(null==e?void 0:e.notification)&&JSON.stringify(e.notification),p={logLevel:"ERROR",source:"SERVICE_WORKER",href:self.location.href,message:t.toString(),appId:yield o.data.getAppId(),browser:yield o.data.getBrowser(),cause:yield o.data.getServiceWorkerVersion(),subscriberId:yield o.data.getSubscriptionId(),sdkVersion:yield o.data.getServiceWorkerVersion(),stackTrace:c||a||s};self.dispatchEvent(new CustomEvent(r.EVENT_ON_SW_ERROR,{detail:{systemLog:p}}))}))},e.sendLogMsgToRemoteServer=function(t){return i(this,void 0,void 0,(function*(){const{systemLog:e}=t.detail;yield s.postSystemLog(e),console.error(JSON.stringify(e))}))},e.logSDKFailure=function(t){return i(this,void 0,void 0,(function*(){const e={logLevel:"ERROR",source:"WEB_SDK",href:self.location.href,message:t.toString(),appId:yield o.data.getAppId(),browser:yield o.data.getBrowser(),cause:yield o.data.getServiceWorkerVersion(),subscriberId:yield o.data.getSubscriptionId(),sdkVersion:yield o.data.getServiceWorkerVersion()};self.dispatchEvent(new CustomEvent(r.EVENT_ON_SDK_ERROR,{detail:{systemLog:e}}))}))};const o=n(911),r=n(870),s=new(n(729).Api)}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};n(694)})();